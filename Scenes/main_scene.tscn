[gd_scene load_steps=20 format=3 uid="uid://c1soqfi8e6x46"]

[ext_resource type="Texture2D" uid="uid://c5k8gcbv3uprk" path="res://Assets/nubes.png" id="1_52fb6"]
[ext_resource type="Material" uid="uid://dxfihkrqs1ael" path="res://Shaders/darken_shader_res.tres" id="2_6l7je"]
[ext_resource type="Texture2D" uid="uid://c4cal3fad0sd8" path="res://Assets/pobo.png" id="2_jv6wh"]
[ext_resource type="Script" uid="uid://bcobfpde7uoba" path="res://Scripts/boat.gd" id="4_huasi"]
[ext_resource type="Material" uid="uid://comsnh3ahrisy" path="res://Shaders/light_shader_res.tres" id="4_iacmt"]
[ext_resource type="Texture2D" uid="uid://wj1kjc43iw4e" path="res://icon.svg" id="4_maf8m"]
[ext_resource type="Texture2D" uid="uid://bntp3k844t2ed" path="res://Assets/luzpobo.png" id="4_x6ack"]
[ext_resource type="Script" uid="uid://ce74ohedwixhs" path="res://Scripts/Fishes/fish_spawner.gd" id="5_76v2p"]
[ext_resource type="Texture2D" uid="uid://cb68nuqbp6wjo" path="res://Assets/poboreflexo.png" id="5_m1efj"]
[ext_resource type="PackedScene" uid="uid://cuucqvhtfgtal" path="res://Scenes/fishing_zone.tscn" id="6_drdnd"]
[ext_resource type="Script" uid="uid://dsfbhghvfdy5a" path="res://Scripts/fish_panel.gd" id="11_76v2p"]
[ext_resource type="Texture2D" uid="uid://dbv1vai85rbjx" path="res://Assets/empty_heart.png" id="12_drdnd"]
[ext_resource type="Texture2D" uid="uid://c66tuvngxsad7" path="res://Assets/full_heart.png" id="13_ioaeq"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_huasi"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_maf8m"]
size = Vector2(6, 10)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_huasi"]
b = Vector2(431, 0)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_m1efj"]
b = Vector2(0, 241)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_mai8y"]
b = Vector2(0, 241)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_76v2p"]
b = Vector2(432, 1)

[node name="MainScene" type="Node2D"]

[node name="World" type="Node2D" parent="."]

[node name="Background" type="Node2D" parent="World"]

[node name="TownSea" type="Sprite2D" parent="World/Background"]
z_index = -2
position = Vector2(141, 195)
texture = ExtResource("5_m1efj")

[node name="Clouds" type="Sprite2D" parent="World/Background"]
texture = ExtResource("1_52fb6")
centered = false

[node name="PlayZone" type="Node2D" parent="World"]
y_sort_enabled = true
position = Vector2(-3, 0)

[node name="Town" type="StaticBody2D" parent="World/PlayZone" groups=["damage_zone"]]
y_sort_enabled = true
position = Vector2(2, 0)
physics_material_override = SubResource("PhysicsMaterial_huasi")
metadata/_edit_group_ = true

[node name="TownSprite" type="Sprite2D" parent="World/PlayZone/Town"]
position = Vector2(83, 158)
texture = ExtResource("2_jv6wh")
offset = Vector2(0, -6.725)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="World/PlayZone/Town" groups=["damage_zone"]]
visible = false
z_index = 1
position = Vector2(10, 97)
polygon = PackedVector2Array(-9, -1, 58, 36, 125, 56, 143, 64, 144, 80, 118, 89, 105, 97, 77, 109, 34, 119, 14, 113, -10, 116)

[node name="Boat" type="CharacterBody2D" parent="World/PlayZone"]
y_sort_enabled = true
position = Vector2(138, 144)
script = ExtResource("4_huasi")
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="World/PlayZone/Boat"]
position = Vector2(-1, 0.0080719)
scale = Vector2(0.046875, 0.078251)
texture = ExtResource("4_maf8m")

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/PlayZone/Boat"]
position = Vector2(-1, 1.52588e-05)
shape = SubResource("RectangleShape2D_maf8m")

[node name="Camera2D" type="Camera2D" parent="World/PlayZone/Boat"]
zoom = Vector2(1.665, 1.665)
limit_left = 0
limit_top = 0
limit_right = 426
limit_bottom = 240
limit_smoothed = true
position_smoothing_enabled = true
drag_horizontal_enabled = true
drag_vertical_enabled = true
drag_horizontal_offset = 0.42
drag_vertical_offset = -0.73
drag_left_margin = 0.45
drag_top_margin = 0.26
drag_bottom_margin = 0.45
editor_draw_limits = true
editor_draw_drag_margin = true

[node name="Limits" type="Node2D" parent="World/PlayZone"]

[node name="UpBorder" type="StaticBody2D" parent="World/PlayZone/Limits"]
position = Vector2(2, 110)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/PlayZone/Limits/UpBorder"]
shape = SubResource("SegmentShape2D_huasi")

[node name="DownBorder" type="StaticBody2D" parent="World/PlayZone/Limits"]
position = Vector2(2, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/PlayZone/Limits/DownBorder"]
shape = SubResource("SegmentShape2D_m1efj")

[node name="LeftBorder" type="StaticBody2D" parent="World/PlayZone/Limits"]
position = Vector2(430, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/PlayZone/Limits/LeftBorder"]
shape = SubResource("SegmentShape2D_mai8y")

[node name="RightBorder" type="StaticBody2D" parent="World/PlayZone/Limits"]
position = Vector2(0, 240)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/PlayZone/Limits/RightBorder"]
shape = SubResource("SegmentShape2D_76v2p")

[node name="FishSpawnerL1" type="Area2D" parent="World/PlayZone"]
script = ExtResource("5_76v2p")
fishing_zone_scene = ExtResource("6_drdnd")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="World/PlayZone/FishSpawnerL1"]
position = Vector2(192, 53)
polygon = PackedVector2Array(64, 59, -134, 60, -28, 99, -30, 129, -125, 168, -175, 162, -186, 168, -184, 183, 126, 177)

[node name="DarkLayer" type="CanvasLayer" parent="."]

[node name="Darkener" type="ColorRect" parent="DarkLayer"]
material = ExtResource("2_6l7je")
offset_right = 413.0
offset_bottom = 104.0
scale = Vector2(1.04, 2.32)

[node name="LightLayer" type="CanvasLayer" parent="."]
layer = 2
follow_viewport_enabled = true

[node name="TownLights" type="Sprite2D" parent="LightLayer"]
y_sort_enabled = true
material = ExtResource("4_iacmt")
position = Vector2(82, 158)
texture = ExtResource("4_x6ack")
offset = Vector2(0, -6.725)

[node name="UILayer" type="CanvasLayer" parent="."]
layer = 3

[node name="FishPanel" type="Panel" parent="UILayer"]
visible = false
anchors_preset = 14
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = 95.0
offset_top = -47.0
offset_right = -96.0
offset_bottom = 56.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("11_76v2p")

[node name="FishTitle" type="RichTextLabel" parent="UILayer/FishPanel"]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_left = 3.0
offset_top = 3.0
offset_right = -3.0
offset_bottom = 18.0
grow_horizontal = 2
theme_override_font_sizes/normal_font_size = 9
text = "afasdafa"
horizontal_alignment = 1

[node name="FishDescription" type="RichTextLabel" parent="UILayer/FishPanel"]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_left = 5.0
offset_top = 21.0
offset_right = -5.0
offset_bottom = 74.0
grow_horizontal = 2
theme_override_font_sizes/normal_font_size = 6
text = "afasdafa"
horizontal_alignment = 1

[node name="CloseBtn" type="Button" parent="UILayer/FishPanel"]
layout_mode = 0
offset_left = 94.0
offset_top = 80.0
offset_right = 140.0
offset_bottom = 97.0
theme_override_font_sizes/font_size = 6
text = "Gardar peixe"

[node name="EmptyHearts" type="HBoxContainer" parent="UILayer"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -43.0
offset_top = 5.0
offset_right = -6.0
offset_bottom = 17.0
grow_horizontal = 0

[node name="EmptyHeart2" type="TextureRect" parent="UILayer/EmptyHearts"]
layout_mode = 2
texture = ExtResource("12_drdnd")
stretch_mode = 4

[node name="EmptyHeart1" type="TextureRect" parent="UILayer/EmptyHearts"]
layout_mode = 2
texture = ExtResource("12_drdnd")
stretch_mode = 4

[node name="EmptyHeart3" type="TextureRect" parent="UILayer/EmptyHearts"]
layout_mode = 2
texture = ExtResource("12_drdnd")
stretch_mode = 4

[node name="FullHearts" type="HBoxContainer" parent="UILayer"]
offset_left = 383.0
offset_top = 5.0
offset_right = 418.0
offset_bottom = 17.0
grow_horizontal = 0

[node name="EmptyHeart2" type="TextureRect" parent="UILayer/FullHearts"]
layout_mode = 2
texture = ExtResource("13_ioaeq")
stretch_mode = 4

[node name="EmptyHeart1" type="TextureRect" parent="UILayer/FullHearts"]
layout_mode = 2
texture = ExtResource("13_ioaeq")
stretch_mode = 4

[node name="EmptyHeart3" type="TextureRect" parent="UILayer/FullHearts"]
layout_mode = 2
texture = ExtResource("13_ioaeq")
stretch_mode = 4

[connection signal="pressed" from="UILayer/FishPanel/CloseBtn" to="UILayer/FishPanel" method="_on_close_btn_pressed"]
